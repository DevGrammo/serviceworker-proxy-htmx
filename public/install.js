SHADOW_ENV.evalLoad("install.core.js", true , "goog.provide(\x27install.core\x27);\n/**\n * Install the service worker\n */\ninstall.core.init \x3d (function install$core$init(){\nvar get_service_worker_script \x3d (function install$core$init_$_get_service_worker_script(){\nreturn document.head.querySelector(\x22[name\x3dservice-worker][content]\x22).content;\n});\nconsole.debug(\x22install.core: CLIENT INSTALLING SERVICE WORKER:\x22,get_service_worker_script());\n\nwindow.navigator.serviceWorker.addEventListener(\x22controllerchange\x22,(function (_){\nvar registration_completed_QMARK_ \x3d localStorage.getItem(\x22registration\x22);\nconsole.debug(\x22registration-completed:\x22,registration_completed_QMARK_);\n\nif(cljs.core.truth_(registration_completed_QMARK_)){\nreturn null;\n} else {\nlocalStorage.setItem(\x22registration\x22,true);\n\nreturn location.reload();\n}\n}));\n\nreturn navigator.serviceWorker.register(get_service_worker_script());\n});\n");
SHADOW_ENV.evalLoad("shadow.module.install.append.js", false , "\nshadow.cljs.devtools.client.env.module_loaded(\x27install\x27);\n\ntry { install.core.init(); } catch (e) { console.error(\x22An error occurred when calling (install.core/init)\x22); throw(e); };\nSHADOW_ENV.setLoaded(\x22install.core.js\x22);\nSHADOW_ENV.setLoaded(\x22shadow.module.install.append.js\x22);");